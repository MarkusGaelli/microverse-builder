"use strict";(globalThis.webpackChunk_croquet_microverse=globalThis.webpackChunk_croquet_microverse||[]).push([[945],{945:(e,t,r)=>{r.r(t),r.d(t,{default:()=>a});const a={modules:[{name:"Collider",actorBehaviors:[class ColliderActor{setup(){let e;var t,r=this._cardData.rapierType,a=this._cardData.rapierShape,i=this._cardData.rapierSensor;e="positionBased"===r?Worldcore.RAPIER.RigidBodyDesc.newKinematicPositionBased():"static"===r?Worldcore.RAPIER.RigidBodyDesc.newStatic():Worldcore.RAPIER.RigidBodyDesc.newDynamic(),this.call("Rapier$RapierActor","createRigidBody",e);let o;"ball"===a?(t=this._cardData.rapierSize||1,t/=2,o=Worldcore.RAPIER.ColliderDesc.ball(t)):"cuboid"===a&&(t=[(t=this._cardData.rapierSize||[1,1,1])[0]/2,t[1]/2,t[2]/2],o=Worldcore.RAPIER.ColliderDesc.cuboid(...t)),o.setRestitution(this._cardData.rapierRestitution||.5),o.setFriction(this._cardData.rapierFriction||1),o.setDensity(this._cardData.rapierDensity||1.5),i&&(console.log("sensor"),this.registerIntersectionEventHandler("intersection"),o.setSensor(!0),o.setActiveEvents(Worldcore.RAPIER.ActiveEvents.CONTACT_EVENTS|Worldcore.RAPIER.ActiveEvents.INTERSECTION_EVENTS)),this.call("Rapier$RapierActor","createCollider",o),r||this.addEventListener("pointerTap","jolt"),this.listen("translating","translated")}jolt(){let e=this.rigidBody;e&&(e.applyForce({x:0,y:400,z:0},!0),e.applyTorque({x:50*Math.random(),y:20*Math.random(),z:50*Math.random()},!0))}translated(){this._translation[1]<-1e3&&this.destroy()}registerContactEventHandler(e){var t=this._behavior;let r=this.service("RapierPhysicsManager");this.contactEventHandlerBehavior=t.module.name+"$"+t.$behaviorName,this.contactEventHandlerMethod=e,r.registerContactEventHandler(this._target)}registerIntersectionEventHandler(e){var t=this._behavior;let r=this.service("RapierPhysicsManager");this.intersectionEventHandlerBehavior=t.module.name+"$"+t.$behaviorName,this.intersectionEventHandlerMethod=e,r.registerIntersectionEventHandler(this._target)}intersection(e,t,r){console.log(e,t,r),r&&(e.id!==this.id&&e.destroy(),t.id!==this.id&&t.destroy())}}],pawnBehaviors:[class ColliderPawn{setup(){var e,t,r;0===this.shape.children.length&&("ball"===(r=this.actor._cardData.rapierShape)?(e=this.actor._cardData.rapierSize||1,e=new Worldcore.THREE.SphereGeometry(e/2,32,16),t=new Worldcore.THREE.MeshStandardMaterial({color:this.actor._cardData.color||16711680}),this.obj=new Worldcore.THREE.Mesh(e,t)):"cuboid"===r&&(e=this.actor._cardData.rapierSize||[1,1,1],t=new Worldcore.THREE.BoxGeometry(...e),r=new Worldcore.THREE.MeshStandardMaterial({color:this.actor._cardData.color||16711680}),this.obj=new Worldcore.THREE.Mesh(t,r)),this.shape.add(this.obj)),this.removeEventListener("pointerDoubleDown","onPointerDoubleDown"),this.addEventListener("pointerDoubleDown","nop")}}]}]}}}]);