"use strict";(globalThis.webpackChunk_croquet_microverse=globalThis.webpackChunk_croquet_microverse||[]).push([[92],{7092:(t,i,n)=>{n.r(i),n.d(i,{default:()=>e});const e={modules:[{name:"Spin",actorBehaviors:[class SpinActor{setup(){this.scriptListen("startSpinning","startSpinning"),this.scriptListen("stopSpinning","stopSpinning")}startSpinning(t){this.isSpinning=!0,this.qSpin=Worldcore.q_euler(0,t,0),this.doSpin()}doSpin(){this.isSpinning&&(this.setRotation(Worldcore.q_multiply(this._rotation,this.qSpin)),this.future(50).doSpin())}stopSpinning(){this.isSpinning=!1}destroy(){delete this.isSpinning,this.unsubscribe(this.id,"startSpinning"),this.unsubscribe(this.id,"stopSpinning")}}],pawnBehaviors:[class SpinPawn{setup(){this.addEventListener("pointerDown","onPointerDown"),this.addEventListener("pointerUp","onPointerUp"),this.addEventListener("pointerMove","onPointerMove")}theta(t){t=this.world2local(t);return Math.atan2(t[0],t[2])}onPointerDown(t){console.log("down"),this.base=this.theta(t.xyz),this.deltaAngle=0,this.say("stopSpinning")}onPointerMove(t){t=this.theta(t.xyz),this.deltaAngle=(t-this.base)/2,t=Worldcore.q_euler(0,this.deltaAngle,0);this.setRotation(Worldcore.q_multiply(this._rotation,t))}onPointerUp(t){t.xyz&&(this.onPointerMove(t),.001<Math.abs(this.deltaAngle)&&(t=this.deltaAngle,t=Math.min(Math.max(-.1,t),.1),this.say("startSpinning",t)))}destroy(){this.removeEventListener("pointerDown","onPointerDown"),this.removeEventListener("pointerUp","onPointerUp"),this.removeEventListener("pointerMove","onPointerMove")}}]}]}}}]);