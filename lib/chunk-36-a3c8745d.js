"use strict";(globalThis.webpackChunk_croquet_microverse=globalThis.webpackChunk_croquet_microverse||[]).push([[36],{3036:(e,s,t)=>{t.r(s),t.d(s,{default:()=>i});const i={modules:[{name:"PropertySheet",actorBehaviors:[class PropertySheetActor{setup(){this.windows&&this.windows.forEach(e=>e.destroy()),this.windows=[],this.addWindow(),this.dismiss&&this.dismiss.destroy(),this.dismiss=this.createCard({translation:[.45,.45,.041],name:"dismiss",behaviorModules:["PropertySheetDismiss"],parent:this,type:"object",noSave:!0}),this.subscribe(this.dismiss.id,"dismiss","dismissSheet")}dismissSheet(e){console.log(e,this.id),this.dismiss&&this.dismiss.destroy(),this.windows&&this.windows.forEach(e=>e.destroy()),this.destroy()}addWindow(){this.window=this.createCard({name:"window",behaviorModules:["PropertySheetWindow"],extent:[.3,.2],parent:this,type:"object",noSave:!0}),this.window.set({translation:[.1,.1,.02]})}setObject(){console.log("set object")}}],pawnBehaviors:[class PropertySheetPawn{setup(){this.frame&&(this.shape.remove(this.frame),this.frame=null),this.back&&(this.shape.remove(this.back),this.back=null),this.shape.children=[];var e=this.roundedCornerGeometry(1,1,.04,.02),s=this.makePlaneMaterial(.02,13421772,13421772,!1),e=(this.frame=new Worldcore.THREE.Mesh(e,s),this.shape.add(this.frame),this.roundedCornerGeometry(.98,.98,1e-4,.02)),s=this.makePlaneMaterial(.02,5395026,5395026,!1);this.back=new Worldcore.THREE.Mesh(e,s),this.back.position.set(0,0,.04),this.shape.add(this.back)}}]},{name:"PropertySheetWindow",actorBehaviors:[class PropertySheetWindowActor{setup(){this.dismiss&&this.dismiss.destroy(),this.dismiss=this.createCard({translation:this.dismissButtonPosition(),name:"dismiss window",behaviorModules:["PropertySheetDismiss"],parent:this,type:"object",noSave:!0}),this.subscribe(this.dismiss.id,"dismiss","dismissWindow")}dismissButtonPosition(){return[this._cardData.extent[0]/2-.022,this._cardData.extent[1]/2-.022,.031]}dismissWindow(e){console.log("dismissWindow",e,this.id)}setObject(){console.log("set object")}}],pawnBehaviors:[class PropertySheetWindowPawn{setup(){this.frame&&(this.shape.remove(this.frame),this.frame=null),this.back&&(this.shape.remove(this.back),this.back=null),this.shape.children=[];var e=this.roundedCornerGeometry(.3,.2,1e-4,.02),s=this.makePlaneMaterial(.02,0,0,!1),e=(this.frame=new Worldcore.THREE.Mesh(e,s),this.frame.position.set(0,0,.021),this.shape.add(this.frame),this.roundedCornerGeometry(.28,.18,1e-4,.02)),s=this.makePlaneMaterial(.02,16777215,16777215,!1);this.back=new Worldcore.THREE.Mesh(e,s),this.back.position.set(0,0,.022),this.shape.add(this.back),this.addEventListener("pointerDown","pointerDown"),this.addEventListener("pointerMove","pointerMove"),this.addEventListener("pointerUp","pointerUp")}pointerDown(t){if(t.xyz){let e=new Worldcore.THREE.Vector3(...t.xyz);var t=this.renderObject.matrixWorld.clone().invert(),t=e.applyMatrix4(t),i=this.actor._cardData.extent;let s={};t.x<-i[0]/2+.01&&(s.x="left"),t.x>i[0]/2-.01&&(s.x="right"),t.y<-i[1]/2+.01&&(s.y="bottom"),t.y>i[1]/2-.01&&(s.y="top"),this.downInfo={...s,position:t}}}pointerMove(s){if(s.xyz){let e=new Worldcore.THREE.Vector3(...s.xyz);var s=this.renderObject.matrixWorld.clone().invert(),s=e.applyMatrix4(s),t=this.downInfo.position,i=(console.log(t),s.x-t.x),s=s.y-t.y;console.log("move",i,s),this.downInfo&&this.downInfo.x}}pointerUp(e){console.log("up",e)}}]},{name:"PropertySheetDismiss",actorBehaviors:[class PropertySheetDismissActor{setup(){}}],pawnBehaviors:[class PropertySheetDismissPawn{setup(){this.addEventListener("pointerTap","tap"),this.back&&(this.shape.remove(this.back),this.shape.children=[]);var e=new Worldcore.THREE.BoxGeometry(.022,.022,1e-5),s=new Worldcore.THREE.MeshStandardMaterial({color:8921634,side:Worldcore.THREE.DoubleSide}),e=(this.back=new Worldcore.THREE.Mesh(e,s),new Worldcore.THREE.BoxGeometry(.02,.005,.001)),s=new Worldcore.THREE.MeshStandardMaterial({color:0,side:Worldcore.THREE.DoubleSide});let t=new Worldcore.THREE.Mesh(e,s);t.position.set(0,0,1e-5),this.back.add(t),this.shape.add(this.back)}tap(e){this.publish(this.actor.id,"dismiss",this.actor.parent.id)}}]},{name:"PropertySheetWindowBar",actorBehaviors:[class PropertySheetWindowBarActor{setup(){}}],pawnBehaviors:[class PropertySheetWindowBarPawn{setup(){this.addEventListener("pointerDown","pointerDown"),this.addEventListener("pointerMove","pointerMove"),this.addEventListener("pointerUp","pointerUp"),this.back&&(this.shape.remove(this.back),this.shape.children=[]);var e=new Worldcore.THREE.BoxGeometry(.022,.022,1e-5),s=new Worldcore.THREE.MeshStandardMaterial({color:8921634,side:Worldcore.THREE.DoubleSide}),e=(this.back=new Worldcore.THREE.Mesh(e,s),new Worldcore.THREE.BoxGeometry(.02,.005,.001)),s=new Worldcore.THREE.MeshStandardMaterial({color:0,side:Worldcore.THREE.DoubleSide});let t=new Worldcore.THREE.Mesh(e,s);t.position.set(0,0,1e-5),this.back.add(t),this.shape.add(this.back)}tap(e){this.publish(this.actor.id,"dismiss",this.actor.parent.id)}}]}]}}}]);